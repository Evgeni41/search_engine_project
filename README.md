# search_engine_project
Итоговый проект "Поисковый движок"
# Структура программы:
Для реализации нужны все указанные директории и файлы(кроме .gitignore и ReadME.md). Сборка проекта ведётся в среде CLION с тулсетом(Tookset) MiNGW

![image](https://user-images.githubusercontent.com/105357210/168148869-05cf73b6-b2e6-4d1c-b0c9-3b670acc1089.png)
1) Сама логика движка состоит из трёх классов, что находятся в заголовочных файлах и их реализациях в cpp: ConverterJSON, InvertedIndex, SearchServer

![image](https://user-images.githubusercontent.com/105357210/168147801-ac809d44-6567-458f-b492-9d71ba139962.png)
2) nlohmann_json - библиотека для сериализации и десереализации данных JSON

![image](https://user-images.githubusercontent.com/105357210/168148206-562721ea-cc75-48af-9046-b04dc52fee5a.png)
3) Файл BreakText.h содержит вспомагательную функцию, которая разделяет строки на отдельные слова.
4) Файл main.cpp - основной файл, в котором описана логика взаимодействия с движком.

# Установка:
Для работы необходимо переместить все файлы в папку с проектом от CLION. На Windows проекты находятся в CLionProjects.
1) Создадим стандартный проект на C++ в CLION. Назовём его search_engine.
2) Скачиваем zip-архив с репозитория

![image](https://user-images.githubusercontent.com/105357210/168247700-9b1ca043-9094-49f9-bd77-32205ac71130.png)
3) Распаковываем содержимое в наш проект, удалив перед этим всё его содержимое

![image](https://user-images.githubusercontent.com/105357210/168248414-9204cc08-b70e-43ea-806c-0f72187cd3ad.png)
![image](https://user-images.githubusercontent.com/105357210/168248553-f54f076c-dcea-4bff-bc1e-f38c315a3d8a.png)
# Работа с программой :
Перед началом работы убедитесь, что в роекте присутсвуют файлы config.json и requests.json. 
Если отсутствует первый файл при запуске программы будет выброшено исключение. Если отсутствует второй программа не 
 будет работать корректно (будет выскакивать предупреждение, что файл не найден, а список запросов будет пустым).
В config.json убедитесь, что присутсвуют такие параметры, как указаны на картинке:

![image](https://user-images.githubusercontent.com/105357210/168249658-606442ef-2bc9-4df1-bbf9-054841a8dcd8.png)

Поле version должно совпадать по значению с переменной версии приложения в main.cpp. Иначе будет брошено исключение.

![image](https://user-images.githubusercontent.com/105357210/168250564-841db19e-7e6f-4a19-98a8-2ec4cded817e.png)  ![image](https://user-images.githubusercontent.com/105357210/168250662-3a41d53a-abfd-4d8c-813a-99c7f5b51307.png)

![image](https://user-images.githubusercontent.com/105357210/168251354-3efe9225-bef9-4759-aa81-44cc60323c7b.png)

Файл answers.json необязателен: он создаётся автоматически при запуске программы. Если он уже есть, то он очищается от всех прежних данных.

Если программа запустилась успешно, значит мы готовы с ней работать. Для работы имеются три команды:
# 1. update 
Команда обновляет частотный словарь, проще говоря наш список данных в файлах указанных в config.json в files. С этим списком будет работать поисковый сервер.

# 2. search
Непосредственно сам поиск. В результате, в файл answers.json выходят все запросы и ответы на них.


если совпадения есть в result выводится true (иначе false)

![image](https://user-images.githubusercontent.com/105357210/168253654-01dd24d9-8e8e-4ee3-8ca2-7ad2cc576b7a.png)

Если документов с совпадениями больше одного вместо одного пары docid и rank выводится вектор этих пар(пример на картинке)

![image](https://user-images.githubusercontent.com/105357210/168252888-f1df39ca-df88-4205-8b6a-85083330a5dd.png)


